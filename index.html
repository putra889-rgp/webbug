<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>Finix AI Attack Control</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
    rel="stylesheet"
  />
  <style>
    body {
      font-family: "Press Start 2P", cursive;
      background: #0f172a;
      color: #e0e0e0;
      overflow-x: hidden;
      margin: 0;
      padding: 0;
      position: relative;
      min-height: 100vh;
    }
    /* 3D pixel art style button */
    .btn-3d {
      background: linear-gradient(145deg, #1e293b, #0f172a);
      border: 4px solid #334155;
      border-bottom-color: #0f172a;
      border-right-color: #0f172a;
      box-shadow: 4px 4px 0 #334155, inset -2px -2px 0 #475569,
        inset 2px 2px 0 #0f172a;
      transition: all 0.15s ease-in-out;
      position: relative;
      user-select: none;
    }
    .btn-3d:active {
      box-shadow: inset 4px 4px 0 #334155, inset -2px -2px 0 #475569,
        inset 2px 2px 0 #0f172a;
      transform: translate(2px, 2px);
      border-color: #0f172a;
      border-bottom-color: #334155;
      border-right-color: #334155;
    }
    /* Pixel art animation for background squares */
    .pixel-art-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 0;
      display: grid;
      grid-template-columns: repeat(auto-fill, 20px);
      grid-auto-rows: 20px;
      gap: 2px;
      opacity: 0.15;
      animation: pixelFade 6s ease-in-out infinite alternate;
    }
    .pixel-art-bg > div {
      background-color: #2563eb;
      animation: pixelBlink 3s infinite alternate;
      will-change: opacity, transform;
      border-radius: 2px;
      box-shadow: 0 0 3px #3b82f6;
    }
    @keyframes pixelBlink {
      0%,
      100% {
        opacity: 0.3;
        transform: scale(1);
      }
      50% {
        opacity: 1;
        transform: scale(1.2);
      }
    }
    @keyframes pixelFade {
      0% {
        opacity: 0.1;
      }
      100% {
        opacity: 0.25;
      }
    }
    /* Pixel style heading */
    h1,
    h2 {
      text-shadow: 1px 1px 0 #0c4a6e, 2px 2px 0 #0284c7, 3px 3px 0 #0c4a6e;
      letter-spacing: 0.15em;
    }
    /* Input pixel style */
    input,
    textarea {
      background: #1e293b;
      border: 3px solid #334155;
      box-shadow: inset 2px 2px 0 #475569, inset -2px -2px 0 #0f172a;
      color: #e0e0e0;
      font-family: "Press Start 2P", cursive;
      font-size: 0.7rem;
      padding: 0.75rem 1rem;
      border-radius: 4px;
      transition: border-color 0.3s ease;
    }
    input:focus,
    textarea:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 8px #3b82f6, inset 2px 2px 0 #475569,
        inset -2px -2px 0 #0f172a;
      background: #1e293b;
    }
    /* Scrollbar pixel style */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #0f172a;
    }
    ::-webkit-scrollbar-thumb {
      background: #2563eb;
      border-radius: 4px;
      border: 2px solid #0f172a;
    }
    /* Responsive container */
    .container {
      max-width: 480px;
      margin: 0 auto;
      padding: 1rem 1.5rem 3rem;
      position: relative;
      z-index: 10;
    }
    /* Animated pixel art icon */
    .pixel-icon {
      width: 64px;
      height: 64px;
      image-rendering: pixelated;
      animation: pixelBounce 2.5s ease-in-out infinite;
      filter: drop-shadow(0 0 3px #3b82f6);
    }
    @keyframes pixelBounce {
      0%,
      100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-8px);
      }
    }
    /* Footer pixel text */
    footer {
      font-size: 0.6rem;
      color: #64748b;
      text-align: center;
      margin-top: 2rem;
      letter-spacing: 0.1em;
      user-select: none;
      position: relative;
      z-index: 10;
    }
    /* Button icon spacing */
    .btn-icon {
      margin-left: 0.5rem;
    }
    /* Video background styling */
    #background-video {
      position: fixed;
      top: 50%;
      left: 50%;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      transform: translate(-50%, -50%);
      z-index: -1;
      filter: brightness(0.3) contrast(1.1);
    }
  </style>
</head>
<body>
  <video
    id="background-video"
    autoplay
    muted
    loop
    playsinline
    aria-hidden="true"
  >
    <source src="https://files.catbox.moe/ohf9sw.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>

  <div aria-hidden="true" class="pixel-art-bg">
    <div style="animation-delay: 0s"></div>
    <div style="animation-delay: 0.1s"></div>
    <div style="animation-delay: 0.2s"></div>
    <div style="animation-delay: 0.3s"></div>
    <div style="animation-delay: 0.4s"></div>
    <div style="animation-delay: 0.5s"></div>
    <div style="animation-delay: 0.6s"></div>
    <div style="animation-delay: 0.7s"></div>
    <div style="animation-delay: 0.8s"></div>
    <div style="animation-delay: 0.9s"></div>
    <div style="animation-delay: 1s"></div>
    <div style="animation-delay: 1.1s"></div>
    <div style="animation-delay: 1.2s"></div>
    <div style="animation-delay: 1.3s"></div>
    <div style="animation-delay: 1.4s"></div>
    <div style="animation-delay: 1.5s"></div>
    <div style="animation-delay: 1.6s"></div>
    <div style="animation-delay: 1.7s"></div>
    <div style="animation-delay: 1.8s"></div>
    <div style="animation-delay: 1.9s"></div>
    <div style="animation-delay: 2s"></div>
    <div style="animation-delay: 2.1s"></div>
    <div style="animation-delay: 2.2s"></div>
    <div style="animation-delay: 2.3s"></div>
    <div style="animation-delay: 2.4s"></div>
    <div style="animation-delay: 2.5s"></div>
    <div style="animation-delay: 2.6s"></div>
    <div style="animation-delay: 2.7s"></div>
    <div style="animation-delay: 2.8s"></div>
    <div style="animation-delay: 2.9s"></div>
    <div style="animation-delay: 3s"></div>
    <div style="animation-delay: 3.1s"></div>
    <div style="animation-delay: 3.2s"></div>
    <div style="animation-delay: 3.3s"></div>
    <div style="animation-delay: 3.4s"></div>
    <div style="animation-delay: 3.5s"></div>
    <div style="animation-delay: 3.6s"></div>
    <div style="animation-delay: 3.7s"></div>
    <div style="animation-delay: 3.8s"></div>
    <div style="animation-delay: 3.9s"></div>
    <div style="animation-delay: 4s"></div>
    <div style="animation-delay: 4.1s"></div>
    <div style="animation-delay: 4.2s"></div>
    <div style="animation-delay: 4.3s"></div>
    <div style="animation-delay: 4.4s"></div>
    <div style="animation-delay: 4.5s"></div>
    <div style="animation-delay: 4.6s"></div>
    <div style="animation-delay: 4.7s"></div>
    <div style="animation-delay: 4.8s"></div>
    <div style="animation-delay: 4.9s"></div>
    <div style="animation-delay: 5s"></div>
    <div style="animation-delay: 5.1s"></div>
    <div style="animation-delay: 5.2s"></div>
    <div style="animation-delay: 5.3s"></div>
    <div style="animation-delay: 5.4s"></div>
    <div style="animation-delay: 5.5s"></div>
    <div style="animation-delay: 5.6s"></div>
    <div style="animation-delay: 5.7s"></div>
    <div style="animation-delay: 5.8s"></div>
    <div style="animation-delay: 5.9s"></div>
    <div style="animation-delay: 6s"></div>
    <div style="animation-delay: 6.1s"></div>
    <div style="animation-delay: 6.2s"></div>
    <div style="animation-delay: 6.3s"></div>
    <div style="animation-delay: 6.4s"></div>
    <div style="animation-delay: 6.5s"></div>
    <div style="animation-delay: 6.6s"></div>
    <div style="animation-delay: 6.7s"></div>
    <div style="animation-delay: 6.8s"></div>
    <div style="animation-delay: 6.9s"></div>
    <div style="animation-delay: 7s"></div>
    <div style="animation-delay: 7.1s"></div>
    <div style="animation-delay: 7.2s"></div>
    <div style="animation-delay: 7.3s"></div>
    <div style="animation-delay: 7.4s"></div>
    <div style="animation-delay: 7.5s"></div>
    <div style="animation-delay: 7.6s"></div>
    <div style="animation-delay: 7.7s"></div>
    <div style="animation-delay: 7.8s"></div>
    <div style="animation-delay: 7.9s"></div>
    <div style="animation-delay: 8s"></div>
    <div style="animation-delay: 8.1s"></div>
    <div style="animation-delay: 8.2s"></div>
    <div style="animation-delay: 8.3s"></div>
    <div style="animation-delay: 8.4s"></div>
    <div style="animation-delay: 8.5s"></div>
    <div style="animation-delay: 8.6s"></div>
    <div style="animation-delay: 8.7s"></div>
    <div style="animation-delay: 8.8s"></div>
    <div style="animation-delay: 8.9s"></div>
    <div style="animation-delay: 9s"></div>
    <div style="animation-delay: 9.1s"></div>
    <div style="animation-delay: 9.2s"></div>
    <div style="animation-delay: 9.3s"></div>
    <div style="animation-delay: 9.4s"></div>
    <div style="animation-delay: 9.5s"></div>
    <div style="animation-delay: 9.6s"></div>
    <div style="animation-delay: 9.7s"></div>
    <div style="animation-delay: 9.8s"></div>
    <div style="animation-delay: 9.9s"></div>
  </div>
<main class="container mt-12 mb-12">
    <div class="flex flex-col items-center gap-6">
      <img
        alt="Pixel art style blue robot icon with glowing eyes and blocky pixelated design"
        class="pixel-icon"
        height="64"
        loading="lazy"
        src="https://storage.googleapis.com/a1aa/image/e00c954f-1379-48dd-fc8c-606a51376885.jpg"
        width="64"
      />
      <h1 class="text-3xl sm:text-4xl text-center text-blue-500 select-none"></h1>
     <button id="menuBtn" class="mt-6 px-8 py-4 bg-black text-cyan-400 border-4 border-pink-600 font-mono hidden hover:scale-105 transition-all duration-300 shadow-[0_0_10px_#ff004c,0_0_20px_#ff004c]" onclick="showForm()">MENU</button>

    <section id="formSection" class="mt-12 w-full max-w-md hidden flex-col items-center">
        <h1 class="text-pink-600 text-2xl font-bold mb-4">ATTACK THE VICTIM</h1>
        <input type="text" id="number" placeholder="Nomor target contoh: 628xxxxxxx" class="w-full px-4 py-3 mb-4 rounded-md bg-gray-900 text-cyan-400 placeholder-cyan-600 font-mono" />
        <button class="w-full px-4 py-4 mb-2 bg-black text-cyan-400 border-4 border-pink-600 font-mono hover:scale-105 transition-all duration-300 shadow-[0_0_10px_#ff004c,0_0_20px_#ff004c]" onclick="sendBug()">KILL</button>
        <button class="w-full px-4 py-4 bg-black text-cyan-400 border-4 border-pink-600 font-mono hover:scale-105 transition-all duration-300 shadow-[0_0_10px_#ff004c,0_0_20px_#ff004c]" onclick="spamOTP()">SPAMOTP</button>
        <p id="status" class="mt-4 text-yellow-400 font-semibold min-h-[1.5rem]"></p>
    </section>

    <p class="warning text-yellow-400 font-bold mt-8">‚ö†Ô∏è SCRIPT MASIH DALAM TAHAP PENGEMBANGAN KADANG SERING OFF ‚ö†Ô∏è</p>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-90 flex flex-col items-center justify-center z-50 px-4">
        <div class="bg-gray-900 rounded-lg p-8 max-w-md w-full text-center">
            <h2 class="text-cyan-400 text-2xl font-mono mb-6">Login Pilihan</h2>
            <button class="w-full px-4 py-4 mb-4 bg-black text-cyan-400 border-4 border-pink-600 font-mono hover:scale-105 transition-all duration-300 shadow-[0_0_10px_#ff004c,0_0_20px_#ff004c]" onclick="openBuyerMenu()">BUYER</button>
            <button class="w-full px-4 py-4 bg-black text-cyan-400 border-4 border-pink-600 font-mono hover:scale-105 transition-all duration-300 shadow-[0_0_10px_#ff004c,0_0_20px_#ff004c]" onclick="openDevModal()">DEVELOPER LOGIN</button>
        </div>
    </div>

    <!-- Developer Modal -->
    <div id="devModal" class="fixed inset-0 bg-black bg-opacity-90 flex flex-col items-center justify-center z-50 px-4 hidden">
        <div class="bg-gray-900 rounded-lg p-8 max-w-md w-full text-center">
            <h2 class="text-cyan-400 text-2xl font-mono mb-6">Developer Login</h2>
            <input type="text" id="devUser" placeholder="Username" class="w-full px-4 py-3 mb-4 rounded-md bg-gray-800 text-cyan-400 text-center focus:outline-none" />
            <input type="password" id="devPass" placeholder="Password" class="w-full px-4 py-3 mb-4 rounded-md bg-gray-800 text-cyan-400 text-center focus:outline-none" />
            <button class="w-full px-4 py-4 bg-black text-cyan-400 border-4 border-pink-600 font-mono hover:scale-105 transition-all duration-300 shadow-[0_0_10px_#ff004c,0_0_20px_#ff004c]" onclick="devLogin()">Login</button>
            <p id="devError" class="mt-4 text-yellow-400 font-semibold min-h-[1.5rem]"></p>
        </div>
    </div>

    <!-- Developer Panel -->
    <div id="devPanel" class="fixed inset-0 bg-black bg-opacity-95 flex flex-col items-center justify-start z-50 px-4 hidden overflow-y-auto">
        <h2 class="text-cyan-400 text-3xl font-mono mt-6">DEVELOPER PANEL</h2>
        <button class="mt-4 mb-4 px-6 py-4 bg-black text-cyan-400 border-4 border-pink-600 font-mono hover:scale-105 transition-all duration-300 shadow-[0_0_10px_#ff004c,0_0_20px_#ff004c]" onclick="toggleBlock()">üö´ BLOKIR SEMENTARA</button>
        <button class="mb-6 px-6 py-4 bg-black text-cyan-400 border-4 border-pink-600 font-mono hover:scale-105 transition-all duration-300 shadow-[0_0_10px_#ff004c,0_0_20px_#ff004c]" onclick="backToLogin()">Back</button>
    </div>

    <script>
        const BLOCK_FLAG = 'sumuterorsystem_block';

        function openBuyerMenu() {
            if (localStorage.getItem(BLOCK_FLAG) === 'true') {
                alert("Situs diblokir oleh developer. Tidak bisa digunakan.");
                return;
            }
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('menuBtn').classList.remove('hidden');
        }

        function openDevModal() {
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('devModal').classList.remove('hidden');
        }

        function backToLogin() {
            document.getElementById('devPanel').classList.add('hidden');
            document.getElementById('loginModal').classList.remove('hidden');
        }

        function toggleBlock() {
            let isBlocked = localStorage.getItem(BLOCK_FLAG) === 'true';
            localStorage.setItem(BLOCK_FLAG, (!isBlocked).toString());
            alert(isBlocked ? "Blokir dimatikan (Buyer bisa akses)" : "Situs berhasil diblokir (Buyer tidak bisa akses)");
        }

        function devLogin() {
            const user = document.getElementById('devUser').value.trim();
            const pass = document.getElementById('devPass').value.trim();
            const error = document.getElementById('devError');
            if (user === 'dev' && pass === 'devpass') {
                error.textContent = "";
                document.getElementById('devModal').classList.add('hidden');
                document.getElementById('devPanel').classList.remove('hidden');
            } else {
                error.textContent = "Username atau password salah.";
            }
        }

        function showForm() {
            const form = document.getElementById("formSection");
            if (form.classList.contains("hidden")) {
                form.classList.remove("hidden");
                form.scrollIntoView({ behavior: "smooth" });
            }
        }

        async function sendBug() {
            const number = document.getElementById("number").value.trim();
            const status = document.getElementById("status");
            if (!number) {
                status.innerText = "Masukkan nomor target yang valid!";
                return;
            }
            status.innerText = "Mengirim...";
            try {
                let res = await fetch("/start-attack", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ number, jumlah: 1 })
                });
                let data = await res.json();
                status.innerText = data.message || "Sukses mengirim!";
            } catch (e) {
                status.innerText = "Gagal mengirim!";
            }
        }

        async function checkWAStatus() {
            const el = document.getElementById("waIndicator");
            try {
                const res = await fetch("/status");
                const data = await res.json();
                if (data.connected) {
                    el.style.backgroundColor = "#00f0ff";
                    el.style.boxShadow = "0 0 10px #00f0ff";
                } else {
                    el.style.backgroundColor = "#ff004c";
                    el.style.boxShadow = "0 0 10px #ff004c";
                }
            } catch (e) {
                el.style.backgroundColor = "#ff004c";
                el.style.boxShadow = "0 0 10px #ff004c";
            }
        }
        setInterval(checkWAStatus, 3001);
        checkWAStatus();
        window.addEventListener('load', () => {
            initializeTokens();
        });
    </script>
</main>
